<!DOCTYPE html><html><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="我有病，你有药嘛？"><meta name="keywords" content=""><meta name="author" content="Halohoop"><meta name="copyright" content="Halohoop"><title>我有病，你有药嘛？ | 卖牙膏的芖口钉</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8d386d3f58d003ed2f4b4d02e584d2ae";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="https://cdn.jsdelivr.net/gh/halohoop/cdn/github/avatar.jpg"></div><div class="author-info__name text-center">Halohoop</div><div class="author-info__description text-center">我有病，你有药嘛？</div><div class="follow-button"><a href="https://github.com/halohoop">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">32</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">37</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">6</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" href="https://www.kfc.com">KFC</a><a class="author-info-links__name text-center" href="https://www.mcdonalds.com.cn">Mcdonalds</a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">卖牙膏的芖口钉</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div><div id="site-info"><div id="site-title">卖牙膏的芖口钉</div><div id="site-sub-title">我有病，你有药嘛？</div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2017/07/14/the_key_to_efficiency/">[露水]使用计算机的时候提升效率的本质</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-07-14 19:19:03</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/tricks/">tricks</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/dewdrops/">dewdrops</a></span><div class="content"><p><strong><em>声明：博文未经授权一律不允转载</em></strong></p>
<p>将需要精确点击的事情，变得不需要精确，甚至是随机（有规则的随机，但是遵守这个规则是人轻易就能做到的），让计算机来处理这种随机，那你的效率将会提高很多很多。 </p>
<p>————来自 卖牙膏霸气侧漏农村有文化的芖口钉（Halohoop）语录</p>
<p>那么你可能需要这些工具：</p>
<ul>
<li><p>PC 端：StrokeIt。</p>
<ul>
<li><p>地址：<a href="http://www.tcbmi.com/strokeit/" target="_blank" rel="external">http://www.tcbmi.com/strokeit/</a></p>
<p><img src="/2017/07/14/the_key_to_efficiency/demo0.png" alt="demo0"></p>
</li>
</ul>
<p>这个真的很好用，还是开源的软件，一年前，为了表示支持，我还把我PayPal赚到的10多美元全部Donate给他了。</p>
</li>
<li><p>热键小工具(myhotkey)</p>
<ul>
<li><a href="http://www.crsky.com/soft/2159.html" target="_blank" rel="external">热键助手 v4.6.0 正式版</a></li>
<li>支持设置热键打开各种软件、文件、文件夹，告别混乱的桌面快捷方式。 </li>
</ul>
</li>
<li><p>FireFox插件：FireGestures</p>
<p>  <img src="/2017/07/14/the_key_to_efficiency/demo1.png" alt="demo1"></p>
</li>
<li><p>Chrome插件：Gestures for google Chrome</p>
<p>  <img src="/2017/07/14/the_key_to_efficiency/demo2.png" alt="demo2"></p>
<ul>
<li>如果StrokeIt和上述两者同时使用想必会冲突，那么StrokeIt可以支持设置开启什么软件的时候自动失效；</li>
<li>所以玩游戏的时候也需要失效，或者玩游戏的时候直接关闭，不然你会发现游戏里面鼠标右键可能会莫名奇效失效；</li>
</ul>
</li>
<li><p>Everything或者Listrary：</p>
<ul>
<li>Everything地址：<a href="http://www.voidtools.com/" target="_blank" rel="external">http://www.voidtools.com/</a></li>
<li><p>Listrary地址：<a href="http://www.voidtools.com/" target="_blank" rel="external">http://www.listary.com/</a></p>
<p><img src="/2017/07/14/the_key_to_efficiency/demo3.png" alt="demo3"></p>
</li>
</ul>
</li>
</ul>
<p>注意我用的是“或者”，因为这两个软件基本功能是一致的。</p>
<p>支持正则表达搜索PC中文件，个人偏向使用Everything，一来因为Listrary使用的时候会侵入你的打开文件夹的界面使用流程，二来Listrary高级功能需要收费，个人觉得Everything还是比较简单的。</p>
<p>比如我想要搜索一个你电脑中忘记存在哪里了的文件，名字是“苍井空大战哥斯拉之他好我也好.avi”，我只能依稀记得名字有“苍井空”、“哥斯拉”、“好”,那我就在Everything的窗口输入”苍井空”(不包括引号)，结果我发现苍井空毕生绝版都在电脑中，实在太多了，没有一眼看到我要的“苍井空大战哥斯拉之他好我也好.avi”，于是继续完善输入，”苍井空.*哥斯拉.*好”(不包括引号,这里的”.*”就表示匹配任意多个字符)，这个时候我要的文件就出现在我的面前了，然后就可以…开始播放了。</p>
<ul>
<li>显然，MAC是自带这些插件的功能的，对于我这种一个月只有几十毛捡破烂钱收入的人来说只能是一笑而过，诶。</li>
</ul>
<p>我这里就不再造轮子教程教大家怎么用了，网上就有很多很多的使用和设置的教程。</p>
<p>你只需要</p>
<p><strong><a href="https://www.baidu.com" target="_blank" rel="external">百度一下</a></strong> </p>
<p>或者 </p>
<p><strong><a href="https://www.google.com" target="_blank" rel="external">Google手气不错</a></strong>  就可以了。</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/06/27/meals-kotlin_mvp_retrofit2_rxjava2_dagger2_demo/">[大餐]写个Kotlin+MVP+Retrofit2+RxJava2+Daggers2的示例代码</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-06-27 03:52:02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/programming/">programming</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/android/">android</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/kotlin/">kotlin</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/meals/">meals</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/MVP/">MVP</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Retrofit2/">Retrofit2</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/RxJava2/">RxJava2</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Daggers2/">Daggers2</a></span><div class="content"><p><strong><em>声明：博文未经授权一律不允转载</em></strong></p>
<h2 id="源码："><a href="#源码：" class="headerlink" title="源码："></a>源码：</h2><p><strong><a href="https://github.com/halohoop/Kotlin_Mvp_R2R2D2" target="_blank" rel="external">https://github.com/halohoop/Kotlin_Mvp_R2R2D2</a></strong></p>
<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p><img src="/2017/06/27/meals-kotlin_mvp_retrofit2_rxjava2_dagger2_demo/demo0.gif" alt="demo0"></p>
<ul>
<li>try<br><a href="https://github.com/halohoop/Kotlin_Mvp_R2R2D2/releases/download/v1.0/app-release_v1.0.apk" target="_blank" rel="external">Donwload APK</a></li>
</ul>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul>
<li><strong>Demo的功能是显示，自己的Github 和 大神的Github 之间相差多少个Followers.</strong></li>
<li><p>三个接口:</p>
<ul>
<li>1.<del><a href="https://api.github.com/search/users?q={id}" target="_blank" rel="external">https://api.github.com/search/users?q={id}</a></del></li>
<li>2.<a href="http://halohoop.com/halohoop_custom_datas/meals-kotlin_mvp_retrofit2_rxjava2_dagger2_demo/user1.json">http://halohoop.com/halohoop_custom_datas/meals-kotlin_mvp_retrofit2_rxjava2_dagger2_demo/user1.json</a></li>
<li>3.<a href="https://api.github.com/users/{id}" target="_blank" rel="external">https://api.github.com/users/{id}</a></li>
</ul>
</li>
<li><p>使用Retrofit2请求上述api；</p>
</li>
<li>使用Dagger2注入对象；</li>
<li>整体架构使用MVP；</li>
<li>P层使用RxJava2辅助过度连接M层和V层；</li>
</ul>
<h2 id="Use-Android-Studio-Version"><a href="#Use-Android-Studio-Version" class="headerlink" title="Use Android Studio Version"></a>Use Android Studio Version</h2><ul>
<li>3.0 Canary 4</li>
</ul>
<h2 id="Thanks-for"><a href="#Thanks-for" class="headerlink" title="Thanks for"></a>Thanks for</h2><ul>
<li><a href="https://github.com/grantland/android-autofittextview" target="_blank" rel="external">https://github.com/grantland/android-autofittextview</a></li>
<li><a href="https://github.com/robinhood/ticker" target="_blank" rel="external">https://github.com/robinhood/ticker</a></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/06/24/cookies-android_vp_onpagescrolled/">[饼干]ViewPager配套滑动回调onPageScrolled</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-06-24 11:23:09</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/programming/">programming</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/cookies/">cookies</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/view/">view</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/android/">android</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/ViewPager/">ViewPager</a></span><div class="content"><p><strong><em>声明：博文未经授权一律不允转载</em></strong></p>
<h2 id="开门撞山："><a href="#开门撞山：" class="headerlink" title="开门撞山："></a>开门撞山：</h2><p>ViewPager配套滑动回调ViewPager.OnPageChangeListener有三个方法：</p>
<pre><code>void onPageScrolled(int position, float positionOffset, int positionOffsetPixels);
void onPageSelected(int position);
void onPageScrollStateChanged(int state);
</code></pre><p>不用过多解释，是人都会用，但是有一个方法比较复杂，三个参数的onPageScrolled，每次使用都要打印着看看到底这三个参数到底是什么，有什么规律。</p>
<p><strong>在这里，将这三个参数在这里做一个一目了然的阐述，以便下一次再用的时候直接上手，节省时间。</strong></p>
<ul>
<li>首先，这个方法是在手指滑动的时候不断会回调的，和move事件一样，参数1最复杂，我们放到最后讲。</li>
<li>参数2：positionOffset：<ul>
<li>取值范围是[0, 1).</li>
<li>手指右滑（包括释放手指后的同一个趋势的运动），数值变化范围(1→0]，越来越小，最后一次回调给你一个0。</li>
<li>手指左滑（包括释放手指后的同一个趋势的运动），数值变化范围[0→1)，越来越大，但是<strong>最后一次回调也给你一个0</strong>，也就是到0.99..之后就变回0。</li>
</ul>
</li>
<li>参数3：positionOffsetPixels：<ul>
<li>和positionOffset套路完全一样，只是数值换成了像素，要注意手指左滑最后的从最大变回0的细节.</li>
</ul>
</li>
<li><p>参数1：position，有点复杂的规则：</p>
<ul>
<li>滑动的时候，一般可见的是两页，那么这个参数就是给你第一个可见的页面.<ul>
<li>比如，如果当前处于第1页，前面还有第0页，后面有第2页，像这样[0,<strong>1</strong>,2…]:<ul>
<li>手指右滑，那么position会一直给你0，最后一次回调给你0，因为滑动的时候可见的是0和1，滑动完成后可见的是0.</li>
<li>手指左滑，那么position会一直给你1，最后一次回调给你2，因为滑动的时候可见的是1和2，滑动完成后可见的是2.</li>
</ul>
</li>
</ul>
</li>
<li>源码中的注释还有一段描述如下：<ul>
<li>“Page position+1 will be visible if positionOffset is nonzero”,综合上面描述，我们也能发现这个规律，也就是当可见positionOffset不为0的时候，position+1的页面是可见的，可能处于滑动（或者释放手指后的滑动）中。</li>
</ul>
</li>
</ul>
</li>
<li><p>Stay hungry stay foolish!</p>
</li>
</ul>
<p><em>仅作知识点记录，如有疏漏，全(欢)都(迎)怪(指)你(正)。</em></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/06/24/snacks-vp_anima_detail/">[点心]ViewPager动画类库原码解析</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-06-24 02:52:02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/programming/">programming</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/android/">android</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/effect/">effect</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/snacks/">snacks</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/animation/">animation</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/PageTransformer/">PageTransformer</a></span><div class="content"><p><strong><em>声明：博文未经授权一律不允转载</em></strong></p>
<h1 id="ViewPager动画类库原码解析"><a href="#ViewPager动画类库原码解析" class="headerlink" title="ViewPager动画类库原码解析"></a>ViewPager动画类库原码解析</h1><p>## </p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/06/23/dewdrops-vp_anima/">[露水]ViewPager动画类库</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-06-23 23:32:02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/programming/">programming</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/android/">android</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/dewdrops/">dewdrops</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/effect/">effect</a></span><div class="content"><p><strong><em>声明：博文未经授权一律不允转载</em></strong></p>
<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p>图片比较大，可能需要加载一会儿。</p>
<p><img src="https://github.com/halohoop/HaloPagerTrans/blob/master/demo0.gif" alt="demo0"></p>
<h2 id="HOW-TO-USE"><a href="#HOW-TO-USE" class="headerlink" title="HOW TO USE"></a>HOW TO USE</h2><h3 id="Set-Animation-for-every-single-view"><a href="#Set-Animation-for-every-single-view" class="headerlink" title="Set Animation for every single view"></a>Set Animation for every single view</h3><ul>
<li>By calling View.setTag() to set params of the animations</li>
</ul>
<pre><code>@Override
public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
    super.onViewCreated(view, savedInstanceState);
    View imageView3 = view.findViewById(R.id.imageView3);
    imageView3.setTag(ChildsTranslateTransformer.KEY_OFFSET_X_FACTOR, 2f);
    imageView3.setTag(ChildsTranslateTransformer.KEY_IS_REVERSE, true);
    imageView3.setTag(ChildsTranslateTransformer.KEY_MARGIN_WHEN_REVERSE, -30f);

    View line = view.findViewById(R.id.line);
    line.setTag(ChildsTranslateTransformer.KEY_OFFSET_X_FACTOR, 2f);
    line.setTag(ChildsTranslateTransformer.KEY_IS_REVERSE, true);
    line.setTag(ChildsTranslateTransformer.KEY_MARGIN_WHEN_REVERSE, -70f);

    View ll_top = view.findViewById(R.id.ll_top);
    ll_top.setTag(ChildsTranslateTransformer.KEY_OFFSET_X_FACTOR, 2f);
    ll_top.setTag(ChildsRotateTransformer.KEY_ROTATE, -90f);
    ll_top.setTag(ChildsRotateTransformer.KEY_ROTATE_PIVOTX_RATIO, 1f);
    ll_top.setTag(ChildsRotateTransformer.KEY_ROTATE_PIVOTY_RATIO, 0.5f);

    View textView1 = view.findViewById(R.id.textView1);
    textView1.setTag(ChildsTranslateTransformer.KEY_OFFSET_X_FACTOR, 3f);

    View imageView1 = view.findViewById(R.id.imageView1);
    imageView1.setTag(ChildsTranslateTransformer.KEY_OFFSET_X_FACTOR, 2f);
    imageView1.setTag(ChildsRotateTransformer.KEY_ROTATE, 90f);
    imageView1.setTag(ChildsRotateTransformer.KEY_ROTATE_PIVOTX_RATIO, 1f);
    imageView1.setTag(ChildsRotateTransformer.KEY_ROTATE_PIVOTY_RATIO, 0.5f);
}
</code></pre><h3 id="Set-Animation-for-the-page-view-ViewGroup"><a href="#Set-Animation-for-the-page-view-ViewGroup" class="headerlink" title="Set Animation for the page view(ViewGroup)"></a>Set Animation for the page view(ViewGroup)</h3><ul>
<li>The same, by calling View.setTag() to set params of the animations</li>
</ul>
<h3 id="Set-Complex-Animation-for-the-page-view-ViewGroup"><a href="#Set-Complex-Animation-for-the-page-view-ViewGroup" class="headerlink" title="Set Complex Animation for the page view(ViewGroup)"></a>Set Complex Animation for the page view(ViewGroup)</h3><ul>
<li>choose one or more Transformers to add into the complex one</li>
</ul>
<pre><code>ComplexChildsTransformer complexChildsTransformer = new ComplexChildsTransformer();
complexChildsTransformer.addTransformer(new ChildsTranslateTransformer());
complexChildsTransformer.addTransformer(new ChildsRotateTransformer());
complexChildsTransformer.addTransformer(new ChildsAlphaTransformer());
complexChildsTransformer.addTransformer(new ChildsScaleTransformer());
//choose one or more Transformers to add into the complex one
//complexChildsTransformer.addTransformer(new PageDefaultTransformer());//普通vp滑动
//complexChildsTransformer.addTransformer(new PageAlphaTransFormer(false/*可修改*/, true/*可修改*/));//透明度
//complexChildsTransformer.addTransformer(new PageCubeInnerTransformer(/*可传参数*/));//立方体内部
//complexChildsTransformer.addTransformer(new PageCubeOuterTransformer());//立方体外部
//complexChildsTransformer.addTransformer(new PageDepthTransformer(/*可传参数*/));//深度变化
//complexChildsTransformer.addTransformer(new PageExtrudingTransformer());//挤压
complexChildsTransformer.addTransformer(new PageFlipTransformer(/*可传参数*/));//flip
//complexChildsTransformer.addTransformer(new PageInRightUpTransformer());//右上到左下
//complexChildsTransformer.addTransformer(new PageInRightDownTransformer());//右下到左上
//complexChildsTransformer.addTransformer(new PageRotateTransformer(/*可传参数*/));//旋转
//complexChildsTransformer.addTransformer(new PageZoomOutTransformer(/*可传参数*/));//Zoom out
vp.setPageTransformer(true, complexChildsTransformer);
</code></pre><h1 id="原码解析"><a href="#原码解析" class="headerlink" title="##原码解析##"></a><a href="http://halohoop.com/2017/06/24/snacks-vp_anima_detail/"><strong>##原码解析##</strong></a></h1></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/06/22/dewdrops-setcontentview/">[露水]review setContentView</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-06-22 03:52:02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/tricks/">tricks</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/android/">android</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/dewdrops/">dewdrops</a></span><div class="content"><p><strong><em>声明：博文未经授权一律不允转载</em></strong></p>
<p>今晚重温了一下setContentView的整个流程，留下点东西，图一张。</p>
<p><img src="/2017/06/22/dewdrops-setcontentview/demo0.png" alt="demo0"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/06/18/dewdrops-six_principle/">[露水]小故事，大学问</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-06-18 03:52:02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/tricks/">tricks</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/dewdrops/">dewdrops</a></span><div class="content"><p><strong><em>声明：博文未经授权一律不允转载</em></strong></p>
<p>一个人骑着单车走了二里地，他老婆依偎在车后座，他们是去接小孩放学，小孩叫迪迪，然后扔下单车开车走了。</p>
<p>设计模式总结出来只是一种经验，告诉我们这种结构的代码会更好理解，更好维护，设计代码结构的时候不一定要遵循23+种设计模式，因为你可能受限于公司固有的业务逻辑，生搬硬套的去靠某一种设计模式可能会得到不好的效果。</p>
<p>而我们要做的就是在设计代码结构的时候去遵循六种设计原则，SOLID，每每设计完一个小单元或者一个模块之后，可以照着这六种设计原则挨个审查是否符合。</p>
<p><img src="/2017/06/18/dewdrops-six_principle/20170706_164307.320.png" alt="demo0"><br>[图为 任玉刚在CSDN技术峰会上的一个截屏，主题为 <strong>Android代码风格浅谈</strong>]</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/06/17/cookies-android_viewdraghelper_callback/">[饼干]ViewDragHelper.Callback.onEdgeLock是干嘛的么</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-06-17 03:44:09</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/programming/">programming</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/cookies/">cookies</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/view/">view</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/ViewDragHelper/">ViewDragHelper</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/android/">android</a></span><div class="content"><p><strong><em>声明：博文未经授权一律不允转载</em></strong></p>
<h2 id="开门撞山："><a href="#开门撞山：" class="headerlink" title="开门撞山："></a>开门撞山：</h2><p>ViewDragHelper.Callback提供给我们很多回调，灰常方便，网上很多文章都非常棒和详细，如果你还不知道ViewDragHelper这个神器怎么用，那你先去看看这些<a href="http://46aae4d1e2371e4aa769798941cef698.devproxy.yunshipei.com/hbl_for_android/article/details/51485827" target="_blank" rel="external">文章</a>，不然下文你也看不懂。</p>
<p>有一个回调大家都没有在意，或者说描述的含糊不清，这里要说的回调就是：</p>
<pre><code>@Override
public boolean onEdgeLock(int edgeFlags) {
    return false;
}
</code></pre><p>默认是返回false，从方法字面上去理解，那就是边缘锁定，我试着判断一个边缘然后返回true看看，是否边缘拖拽就失效了呢，代码如下：</p>
<pre><code>@Override
public boolean onEdgeLock(int edgeFlags) {
    return (edgeFlags&amp;ViewDragHelper.EDGE_LEFT)==ViewDragHelper.EDGE_LEFT;
}
</code></pre><p>显然结果和我预料的并不一样，难道这个方法是要手动调用的咩？这个时候咋办呢，当然是看源码，记住，一切答案都在源码。</p>
<p><img src="/2017/06/17/cookies-android_viewdraghelper_callback/demo0.png" alt="demo0"></p>
<p>注意1278行，源码中确实调用了onEdgeLock，为什么没有跑到这句，这里有些线索，比如：</p>
<ul>
<li>absDelta &lt; absODelta * 0.5f，绝对值后新旧数据的比较</li>
</ul>
<p>但是线索还不够，那就往上爬，找到checkNewEdgeDrag方法被调用的地方。当是LEFT和RIGHT的时候传入的是dx和dy，而TOP和BOTTOM的时候传入的是dy和dx，dx和dy调换了位置，恍然大悟了。</p>
<p><img src="/2017/06/17/cookies-android_viewdraghelper_callback/demo1.png" alt="demo1"></p>
<p>不多说，我把代码直接翻译成中文：</p>
<ul>
<li>当想要锁住的是<strong>左</strong>或者<strong>右</strong>的时候，如果<strong>左右</strong>滑动的距离还没<strong>上下</strong>滑动的距离的一半多，那就走回调onEdgeLock()；</li>
<li>当想要锁住的是<strong>上</strong>或者<strong>下</strong>的时候，如果<strong>上下</strong>滑动的距离还没<strong>左右</strong>滑动的距离的一半多，那就走回调onEdgeLock()；</li>
</ul>
<p>当我们开启了边缘锁定模式，像这样：</p>
<pre><code>viewDragHelper.setEdgeTrackingEnabled(ViewDragHelper.EDGE_LEFT);//这里锁定左边
</code></pre><p>之后，我们在左边缘<strong>上下</strong>滑动的时候，就能够走回调onEdgeLock方法了。</p>
<p>看看红框框出来的部分，</p>
<h2 id="实际应用场景"><a href="#实际应用场景" class="headerlink" title="实际应用场景"></a>实际应用场景</h2><ul>
<li><p>微信边滑退出，识别是边滑的时候锁定只能是左右滑，而不能是上下滑。</p>
<ul>
<li>当然我们可以自己在别的ViewDragHelper.Callback的回调中做限制,比如clampViewPositionHorizontal和clampViewPositionVertical，但是，神经病啊，用原生的不用你写那么多的判断逻辑啊。</li>
</ul>
</li>
<li><p>我写的Demo在这里，请享用：</p>
<ul>
<li><a href="https://github.com/halohoop/AndroidDigIn/blob/c4d530b5943ab79e7dd6dc3dbbff1f6a76e214be/app/src/main/java/com/halohoop/androiddigin/widgets/DragViewGroup.java" target="_blank" rel="external">DragViewGroup.java</a></li>
</ul>
</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>答案都在源码.</li>
<li>Stay hungry stay foolish!</li>
</ul>
<p><em>仅作知识点记录，如有疏漏，全(欢)都(迎)怪(指)你(正)。</em></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/06/16/cookies-frag_manager_popstack/">[饼干]FragmentManager的popBackStack的使用</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-06-16 12:00:09</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/programming/">programming</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/cookies/">cookies</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/android/">android</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Fragment/">Fragment</a></span><div class="content"><p><strong><em>声明：博文未经授权一律不允转载</em></strong></p>
<h2 id="开门撞山："><a href="#开门撞山：" class="headerlink" title="开门撞山："></a>开门撞山：</h2><ul>
<li><p>用法：</p>
<pre><code>//自己以上所有，不包括自己
getSupportFragmentManager().popBackStack(&quot;rt&quot;, 0);
//自己以上所有，包括自己
getSupportFragmentManager().popBackStack(&quot;rt&quot;, 1);
//最上层的一个
getSupportFragmentManager().popBackStack(null, 0);
//最上层的一个
getSupportFragmentManager().popBackStack();
//全部pop
getSupportFragmentManager().popBackStack(null, 1);
</code></pre></li>
<li><p>注意：</p>
<ul>
<li>popBackStack传入的第一个参数是addToBackStack(name)传入的参数，而不是Fragment的Tag；</li>
<li>如果遇到两个name相同的连在一起的时候，两个移除，三个相同的就三个都移除…示例代码：<ul>
<li>getFragmentManager().popBackStack(“rt”, 1); <ul>
<li>也就是说，查找栈的顺序是先从后入栈的开始查找往下找，找到一个之后还继续找下一个如果还是一样的name就再找一个直到不是为止，然后将是的一并pop出栈。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="实例代码Demo"><a href="#实例代码Demo" class="headerlink" title="实例代码Demo"></a>实例代码Demo</h2><p><a href="https://github.com/halohoop/AndroidDigIn#20fragmentmanager的popbackstack的使用" target="_blank" rel="external">https://github.com/halohoop/AndroidDigIn</a></p>
<p><em>仅作知识点记录，如有疏漏，全(欢)都(迎)怪(指)你(正)。</em></p>
<ul>
<li>Stay hungry stay foolish!</li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2017/06/15/dewdrops-adb_wifi/">[露水]adb无线调试</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2017-06-15 22:52:02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/tricks/">tricks</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/dewdrops/">dewdrops</a></span><div class="content"><p><strong><em>声明：博文未经授权一律不允转载</em></strong></p>
<p>条件：</p>
<ul>
<li>一台开发版手机</li>
<li>2个命令：<ul>
<li>adb tcpip 55555</li>
<li>adb yourDevicesIp:55555</li>
</ul>
</li>
<li>4个步骤：<ul>
<li>插入USB</li>
<li>终端输入 adb tcpip 55555</li>
<li>然后输入 adb yourDevicesIp:55555</li>
<li>拔掉USB</li>
</ul>
</li>
</ul>
<p>比如：</p>
<pre><code>[win cmd]
D:\workspaces\androidstudio\project&gt;adb tcpip 55555
D:\workspaces\androidstudio\project&gt;adb connect 192.168.199.156:55555
connected to 192.168.199.156:55555
</code></pre><p><strong>无线调试还支持 instant run 和 Debug 咧。</strong></p>
<p><a href="https://developer.android.com/studio/command-line/adb.html#wireless" target="_blank" rel="external">参考</a></p>
</div><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;1997 - 2020 By Halohoop</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>